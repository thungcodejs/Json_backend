const {Customer} = require('../models/customer');const express = require('express');const router = express.Router();const bcrypt = require('bcryptjs');//read customerrouter.get(`/`, async (req, res) =>{    const customerList = await Customer.find().select('-passwordHash');    if(!customerList) {        res.status(500).json({success: false})    }    res.send(customerList);})router.get('/:id', async (req, res) => {    const customer = await Customer.findById(req.params.id).select('-passwordHash');    if(!customer) {        return res.status(500).json({message: 'the category with the given id was not get'});    }    res.status(200).send(customer);})//post customerrouter.post('/login', async (req, res) => {    const customer = await Customer.findOne({email: req.body.email});    if(!customer) {        res.status(400).send('The customer not found');    }    return res.status(200).send(customer);})//put customerrouter.put('/:id', async (req, res) => {    const customer = await Customer.findByIdAndUpdate(        req.params.id,        {            name: req.body.name,            email: req.body.email,            passwordHash: req.body.passwordHash,            phone: req.body.phone,            isAdmin: req.body.isAdmin,            apartment: req.body.apartment,            zip: req.body.zip,            city: req.body.city,            country: req.body.country        },        { new: true } //du lieu se duoc cap nhat moi    )    if(!customer) {        res.status(400).send('the category cannot be create!')    }    res.send(customer);})//delete customerrouter.delete('/:id', async (req, res) => {    Customer.findByIdAndRemove(req.params.id).then( customer => {        if(customer) {            return res.status(202).json({success: true, message: 'the customer is delete!'})        } else {            return res.status(404).json({success: false, message: 'the customer not found!'})        }    }).catch(err => {        return res.status(404).json({success: false, error: err})    })})module.exports =router;